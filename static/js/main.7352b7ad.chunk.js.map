{"version":3,"sources":["util.module.js","components/pokemon-layout/pokemon-layout.js","components/dropdown/dropdown.js","index.js"],"names":["P","require","alphabetical","a","b","toUpperCase","leadingZero","number","amount","toString","length","games","green","red","blue","yellow","gold","silver","crystal","ruby","sapphire","leafgreen","firered","emerald","diamond","pearl","platinum","heartgold","soulsilver","black","white","x","y","sun","moon","Map","round","decimals","t","Math","pow","OutsideAlerter","props","wrapperRef","useRef","ref","callback","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","useOutsideAlerter","children","get","url","xhr","XMLHttpRequest","JSON","parse","responseText","open","send","dmgMap","num","isTaken","PokemonLayout","updateLocationEncounters","pokemon","location_area_encounters","response","setState","locationEncounters","updateSpecies","species","evolution_chain","queue","chain","element","curr","shift","push","name","evolves_to","forEach","i","getPokemonByName","error","console","evolutionMap","state","slice","updateAbilities","abilities","ability","updateHeldItems","held_items","heldItem","item","heldItems","updateMoves","moves","move","updateTypes","types","type","updateAll","AbilitiesElement","className","map","effect","found","find","hidden","is_hidden","effect_entries","Modal","trigger","key","Content","Description","BaseExpElement","base_experience","HeightElement","height","style","BaseHappinessElement","base_happiness","CaptureRateElement","capture_rate","GenerationElement","generation","split","GrowthElement","growth_rate","HabitatElement","habitat","HatchElement","Number","hatch_counter","toLocaleString","NameElement","id","MovesElement","accuracy","power","pp","SpritesElement","sprites","Object","entries","filter","sort","src","alt","StatsElement","stats","stat","base_stat","effort","TypesElement","names","WeightElement","weight","HeldItemsElement","items","source","default","TabsElement","flavor_text_entries","entry","language","version","replace","flavor_text","gameToLocations","locationEncounter","location","location_area","version_details","has","set","gameToMoves","version_group_details","detail","str","version_group","toLowerCase","game","panes","keys","menuItem","render","locations","LocationElement","TabMovesElement","Tab","Pane","menu","fluid","vertical","tabular","levelup","machine","methodToMove","move_learn_method","includes","level_learned_at","MovesByLevelUpElement","level","region","encounter_details","encounter","conditionElement","condition_values","condition","join","max_level","min_level","Fragment","method","chance","EvolutionElement","pokemons","onClick","onSelection","front_default","EggGroupElement","egg_groups","GenderRateElement","gr","gender_rate","female","male","DmgElement","dmgTaken","damage_relations","dmgType","Array","from","initializing","this","Loader","active","inline","prevProps","nextProps","prevState","React","Component","Dropdown","prefix","arr","isNaN","handleChange","e","showOptions","currentOptionIndex","onInputValue","value","handleClick","handleKeyPress","persist","newInput","input","trim","options","handleKeyDown","filteredOptions","placeHolder","handleKeyUp","optionsElement","getElementById","scrollTop","OptionsElement","option","dropdownStyle","Icon","placeholder","spellCheck","onChange","onKeyPress","onKeyDown","onKeyUp","Game","handleSelection","currentPokemon","inputValue","handleInputValue","getPokemonsList","then","results","getTypesList","content","ReactDOM"],"mappings":"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","file":"static/js/main.7352b7ad.chunk.js","sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { Loader } from 'semantic-ui-react';\r\n\r\n/**\r\n * Use this wrapper over native requests for local caching. \r\n * https://github.com/PokeAPI/pokedex-promise-v2\r\n */\r\nvar Pokedex = require('pokedex-promise-v2');\r\nexport var P = new Pokedex();\r\n\r\n/**\r\n * Comparator function for alphabetical sorting.\r\n */\r\nexport function alphabetical(a,b) {\r\n\ta = a.toUpperCase();\r\n\tb = b.toUpperCase(); \r\n\tif (a < b) {\r\n\t\treturn -1; \r\n\t} else if (a === b) {\r\n\t\treturn 0; \r\n\t}\r\n\treturn 1;\r\n}\r\n\r\nexport function leadingZero(number,amount) {\r\n\tnumber = number.toString(10);\r\n\twhile(number.length < 3) {\r\n\t\tnumber = \"0\" + number;\r\n\t}\r\n\treturn \"#\" + number;\r\n}\r\n\r\nexport const games = {\r\n\tgreen: 0,\r\n\tred: 1,\r\n\tblue: 2,\r\n\tyellow: 3,\r\n\tgold: 6,\r\n\tsilver: 7,\r\n\tcrystal: 8,\r\n\truby: 9,\r\n\tsapphire: 10,\r\n\tleafgreen: 11,\r\n\tfirered: 12,\r\n\temerald: 13,\r\n\tdiamond: 14,\r\n\tpearl: 15,\r\n\tplatinum: 16,\r\n\theartgold: 17,\r\n\tsoulsilver: 18,\r\n\tblack: 19,\r\n\twhite: 20,\r\n\t'black 2': 21, \r\n\t'white 2': 22, \r\n\tx: 23,\r\n\ty: 24,\r\n\t'x & y': 24,\r\n\t'omega ruby': 25,\r\n\t'alpha sapphire': 26,\r\n\tsun: 27,\r\n\tmoon: 28,\r\n\t'ultra sun': 29,\r\n\t'ultra moon': 30,\r\n\t\"let's go, pikachu!\": 31,\r\n\t\"let's go, eevee!\": 32,\r\n};\r\n\r\nexport const gamePairs = new Map([\r\n\t['red', 'blue'],\r\n\t['gold', 'silver'],\r\n\t[\"ruby\", 'sapphire'],\r\n\t['firered', 'leafgreen'],\r\n\t['diamond', 'pearl'],\r\n\t['heartgold', 'soulSilver'],\r\n\t['black', 'white'],\r\n\t['black-2', 'white-2'],\r\n\t['x', 'y'],\r\n\t['omega-ruby', 'alpha-sapphire'],\r\n\t['sun', 'Moon'],\r\n\t['ultra-sun', 'ultra-moon'],\r\n\t['sword', 'shield'],\r\n\t[\"let's-go,-pikachu!\", \"let's-go,-eevee!\"]\r\n]);\r\n\r\nexport const gameNames = [\r\n\t'red',\r\n\t'yellow',\r\n\t'gold',\r\n\t'crystal',\r\n\t'ruby',\r\n\t'firered',\r\n\t'emerald',\r\n\t'diamond',\r\n\t'platinum',\r\n\t'heartgold',\r\n\t'black',\r\n\t'black 2',\r\n\t'x',\r\n\t'omega ruby',\r\n\t'sun',\r\n\t'ultra sun',\r\n\t'sword',\r\n\t\"let's go, pikachu!\"\r\n];\r\n\r\nexport function versionGroupNameToGame(str) {\r\n\tstr = str.toLowerCase();\r\n\tif (str === \"ultra-sun-ultra-moon\") {\r\n\t\treturn [\"ultra sun\", \"ulra moon\"]; \r\n\t}\r\n\tif (str === \"black-2-white-2\") {\r\n\t\treturn [\"black 2\", \"white 2\"]\r\n\t}\r\n\tif (str === \"let's-go,-pikachu!-let's-go,-eevee!\") {\r\n\t\treturn \t[\"let's go, pikachu!\", \"let's go, eevee!\"];\r\n\t}\r\n\treturn str.split(\"-\");\r\n}\r\n\r\nexport function byGameRelease(a,b) {\r\n\ta = games[a.toLowerCase()]; \r\n\tb = games[b.toLowerCase()];\r\n\treturn a - b; \r\n}\r\n\r\n/**\r\n * Rounds number to the decimals place. \r\n */\r\nexport function round(number, decimals) {\r\n\tconst t = Math.pow(10,decimals);\r\n\treturn Math.round(number * t ) / t;\r\n}\r\n\r\nexport function mod(number, mod) {\r\n\treturn ((number % mod) + mod) % mod; \r\n}\r\n\r\n/** \r\n * A generic loader. \r\n */\r\nexport function LoaderElement() {\r\n\treturn (\r\n\t\t<div className=\"loader-container\">\r\n\t\t\t<Loader active inline='centered'>Loading</Loader>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n/**\r\n * Hook that alerts clicks outside of the passed ref\r\n */\r\nfunction useOutsideAlerter(ref, callback) {\r\n  /**\r\n   * Alert if clicked on outside of element\r\n   */\r\n  function handleClickOutside(event) {\r\n    if (ref.current && !ref.current.contains(event.target)) {\r\n      callback(); \r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Bind the event listener\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  });\r\n}\r\n\r\n/**\r\n * Component that alerts if you click outside of it.\r\n */\r\nexport function OutsideAlerter(props) {\r\n  const wrapperRef = useRef(null);\r\n  useOutsideAlerter(wrapperRef, props.callback);\r\n  return <div ref={wrapperRef}>{props.children}</div>;\r\n}\r\n\r\nexport function get(url,callback) {\r\n\tconst xhr = new XMLHttpRequest(); \r\n\txhr.addEventListener('load', () => {\r\n\t\tcallback(JSON.parse(xhr.responseText));\r\n\t})\r\n\txhr.open('GET', url);\r\n\txhr.send();\r\n}\r\n\r\nexport const dmgMap = new Map([\r\n\t['double_damage_from', {num: 2, isTaken: true}],\r\n\t['double_damage_to', {num: 2, isTaken: false}],\r\n\t['half_damage_from', {num:.5, isTaken:true}],\r\n\t['half_damage_to', {num: .5, isTaken: false}],\r\n\t['no_damage_from', {num: 0, isTaken: true}],\r\n\t['no_damage_to', {num: 0, isTaken: false}],\r\n]\r\n);","import React from 'react';\r\nimport { P, alphabetical, round, LoaderElement, get, leadingZero, dmgMap, games, versionGroupNameToGame } from '../../util.module.js';\r\nimport { Modal, Tab } from 'semantic-ui-react';\r\n\r\nimport '../../util.scss';\r\nimport './pokemon-layout.scss';\r\n\r\nexport default class PokemonLayout extends React.Component {\r\n\r\n\t// Mounting Lifecycles ---------------------------------------------\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tpokemon: props.pokemon,\r\n\t\t\terror: false,\r\n\t\t\tinitializing: false,\r\n\t\t\tlocationEncounters: [],\r\n\t\t\tspecies: null,\r\n\t\t\tabilities: [],\r\n\t\t\theldItems: [],\r\n\t\t\tevolutionMap: [],\r\n\t\t\ttypes: [],\r\n\t\t\tmoves: [],\r\n\t\t};\r\n\t\tthis.updateAll();\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (nextProps.pokemon.id !== prevState.pokemon.id) {\r\n\t\t\treturn {\r\n\t \t\t  pokemon: nextProps.pokemon,\r\n\t\t\t  error: false,\r\n\t\t\t  initializing: false,\r\n\t\t\t  locationEncounters: [],\r\n\t\t\t  species: null,\r\n\t\t\t  abilities: [],\r\n\t\t\t  heldItems: [],\r\n\t\t\t  moves: [],\r\n\t\t\t  evolutionMap: [],\r\n\t\t\t  types: [],\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t// Methods ---------------------------------------------------------\r\n\r\n\tupdateLocationEncounters = () => {\r\n\t\tget(this.props.pokemon.location_area_encounters, response => {\r\n\t\t\tthis.setState({locationEncounters: response});\r\n\t\t});\r\n\t}\r\n\r\n\tupdateSpecies = () => {\r\n\t\tget(this.props.pokemon.species.url, response => {\r\n\t\t\tthis.setState({species: response});\r\n\t\t\tget(response.evolution_chain.url, response => {\r\n\t\t\t\tlet queue = [response.chain];\r\n\t\t\t\tlet element = [];\r\n\t\t\t\twhile (queue.length) {\r\n\t\t\t\t\tconst curr = queue.shift();\r\n\t\t\t\t\telement.push(curr.species.name);\r\n\t\t\t\t\tcurr.evolves_to.forEach(chain => queue.push(chain));\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i = 0; i < element.length; i++) {\r\n\t\t\t\t\tP.getPokemonByName(element[i], (response,error) => {\r\n\t\t\t\t\t\tif (!error) {\r\n\t\t\t\t\t\t\tconst evolutionMap = this.state.evolutionMap.slice();\r\n\t\t\t\t\t\t\tevolutionMap.push([i,response]);\r\n\t\t\t\t\t\t\tthis.setState({evolutionMap});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.error(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tupdateAbilities = () => {\r\n\t\tthis.props.pokemon.abilities.forEach(ability => {\r\n\t\t\tget(ability.ability.url, response => {\r\n\t\t\t\tconst abilities = this.state.abilities.slice(); \r\n\t\t\t\tabilities.push(response);\r\n\t\t\t\tthis.setState({abilities});\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tupdateHeldItems = () => {\r\n\t\tthis.props.pokemon.held_items.forEach(heldItem => {\r\n\t\t\tget(heldItem.item.url, response => {\r\n\t\t\t\tconst heldItems = this.state.heldItems.slice(); \r\n\t\t\t\theldItems.push(response);\r\n\t\t\t\tthis.setState({heldItems});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tupdateMoves = () => {\r\n\t\tthis.props.pokemon.moves.forEach(move => {\r\n\t\t\tget(move.move.url, response => {\r\n\t\t\t\tconst moves = this.state.moves.slice(); \r\n\t\t\t\tmoves.push(response);\r\n\t\t\t\tthis.setState({moves});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tupdateTypes = () => {\r\n\t\tthis.props.pokemon.types.forEach(type => {\r\n\t\t\tget(type.type.url, response => {\r\n\t\t\t\tconst types = this.state.types.slice(); \r\n\t\t\t\ttypes.push(response);\r\n\t\t\t\tthis.setState({types});\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\tupdateAll = () => {\r\n\t\tthis.updateLocationEncounters();\r\n\t\tthis.updateSpecies();\r\n\t\tthis.updateAbilities();\r\n\t\tthis.updateHeldItems();\r\n\t\tthis.updateMoves();\r\n\t\tthis.updateTypes(); \r\n\t}\r\n\r\n\t// Functional Components -------------------------------------------\r\n\r\n\tAbilitiesElement = () => {\r\n\t\tif (!this.state.abilities || !this.state.abilities.length) {\r\n\t\t\treturn null; \r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container flex-column\">\r\n\t\t\t\t<div className=\"bold\">Abilities</div>\r\n\t\t\t\t<div className=\"abilities flex\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.abilities.map(ability  => {\r\n\t\t\t\t\t\t\tlet effect;\r\n\t\t\t\t\t\t\tconst found = this.props.pokemon.abilities.find(item => item.ability.name === ability.name);\r\n\t\t\t\t\t\t\tlet hidden = ''; \r\n\t\t\t\t\t\t\tif (found && found.is_hidden) {\r\n\t\t\t\t\t\t\t\thidden = ' (Hidden)'\r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\tif (ability.effect_entries.length) {\r\n\t\t\t\t\t\t\t\teffect = (\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-align-center\">\r\n\t\t\t\t\t\t\t\t\t\t{ability.effect_entries[0].effect}\r\n\t\t\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Modal trigger={<button>{ability.name + hidden}</button>} key={ability.name}>\r\n\t\t\t\t\t\t\t    <Modal.Content>\r\n\t\t\t\t\t\t\t      <Modal.Description>\r\n\t\t\t\t\t\t\t      {effect}\r\n\t\t\t\t\t\t\t      </Modal.Description>\r\n\t\t\t\t\t\t\t    </Modal.Content>\r\n\t\t\t\t\t\t\t  </Modal>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tBaseExpElement = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container\">\r\n\t\t\t\t<div className=\"label\">Base EXP</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.pokemon.base_experience + \" EXP\"}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tHeightElement = () => {\r\n\t\tconst height = (this.state.pokemon.height * 10)/30.48;\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container height\">\r\n\t\t\t\t<div className=\"label\">Height</div>\r\n\t\t\t\t<div style={{'textTransform':'lowercase'}}>\r\n\t\t\t\t\t{round(height,2) + ' ft'}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tBaseHappinessElement = () => {\r\n\t\tif (!this.state.species) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container\">\r\n\t\t\t\t<div className=\"label\">Base Happiness</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.species.base_happiness} / 255\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tCaptureRateElement = () => {\r\n\t\tif (!this.state.species) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container\">\r\n\t\t\t\t<div className=\"label\">Capture Rate</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.species.capture_rate} / 255\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tGenerationElement = () => {\r\n\t\tif (!this.state.species) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container\">\r\n\t\t\t\t<div className=\"label\">Generation</div>\r\n\t\t\t\t<div style={{\"textTransform\":\"uppercase\"}}>\r\n\t\t\t\t\t{this.state.species.generation.name.split(\"-\")[1]}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tGrowthElement = () => {\r\n\t\tif (!this.state.species) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container\">\r\n\t\t\t\t<div className=\"label\">Growth Rate</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.species.growth_rate.name}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tHabitatElement = () => {\r\n\t\tif (!this.state.species || !this.state.species.habitat || \r\n\t\t\t  !this.state.species.habitat.name) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container\">\r\n\t\t\t\t<div className=\"label\">Habitat</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.species.habitat.name}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tHatchElement = () => {\r\n\t\tif (!this.state.species) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container\">\r\n\t\t\t\t<div className=\"label\">Hatch Counter</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{Number(255*(this.state.species.hatch_counter + 1)).toLocaleString()} Steps\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tNameElement = () => {\r\n\t\tif (!this.state.species) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"name-container\">\r\n\t\t\t\t<div className=\"label\">{this.state.pokemon.name}</div>\r\n\t\t\t\t<div className=\"id\">{leadingZero(this.state.species.id, 3)}</div>\r\n\t\t\t</div>\r\n\t\t);\t\t\r\n\t}\r\n\r\n\tMovesElement = (move) => {\r\n\t\tlet effect; \r\n\t\tif (move.effect_entries.length) {\r\n\t\t\teffect = move.effect_entries[0].effect;\r\n\t\t}\r\n\t\tlet accuracy; \r\n\t\tif (move.accuracy) {\r\n\t\t\taccuracy = \t(<div className=\"flex\">\r\n\t\t\t\t\t      \t<div>Accuracy</div>\r\n\t\t\t\t\t      \t<div>{move.accuracy}</div>\r\n\t\t\t\t\t    </div>);\r\n\t\t}\r\n\t\tlet power; \r\n\t\tif (move.power) {\r\n\t\t\tpower = (<div className=\"flex\">\r\n\t\t\t      \t\t<div>Power</div>\r\n\t\t\t      \t\t<div>{move.power}</div>\r\n\t\t\t      \t</div>);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Modal trigger={<button className=\"move-button\">{move.name}</button>} key={move.name}>\r\n\t\t\t    <Modal.Content>\r\n\t\t\t      <Modal.Description>\r\n\t\t\t\t      <div className=\"flex\">\r\n\t\t\t\t        <div className=\"flex-column description-box\">\r\n\t\t\t\t        \t{accuracy}\r\n\t\t\t\t\t      \t<div className=\"flex\">\r\n\t\t\t\t\t      \t\t<div>Type</div>\r\n\t\t\t\t\t      \t\t<div>{move.type.name}</div>\r\n\t\t\t\t\t      \t</div>\r\n\t\t\t\t\t      \t{power}\r\n\t\t\t\t\t      \t<div className=\"flex\">\r\n\t\t\t\t\t      \t\t<div>pp</div>\r\n\t\t\t\t\t      \t\t<div>{move.pp}</div>\r\n\t\t\t\t\t      \t</div>\r\n\t\t\t\t    \t</div>\r\n\t\t\t\t      \t<div className=\"description-effect\">{effect}</div>\r\n\t\t\t\t      </div>\r\n\t\t\t      </Modal.Description>\r\n\t\t\t    </Modal.Content>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n\r\n\tSpritesElement = () => {\r\n\t\tconst sprites = Object.entries(this.state.pokemon.sprites)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(([name,url]) => url != null);\r\n\t\tsprites.sort((a,b) => alphabetical(a[0],b[0]));\r\n\t\tif (sprites.length === 0) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container flex sprites-element\">\r\n\t\t\t\t{\r\n\t\t\t\t\tsprites.map(([name,url]) => \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className=\"flex-column\" key={name}>\r\n\t\t\t\t\t\t\t\t\t<img src={url} alt={name}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tStatsElement = () => {\r\n\t\tconst stats = this.state.pokemon.stats;\r\n\t\tstats.sort((a,b) => alphabetical(a.stat.name, b.stat.name));\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container flex-column\">\r\n\t\t\t\t<table className=\"stat\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Stat</th>\r\n\t\t\t\t\t\t\t<th>Base</th>\r\n\t\t\t\t\t\t\t<th>EV</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstats.map(stat => \r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={stat.stat.name}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{stat.stat.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{stat.base_stat}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{stat.effort}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t  </table>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tTypesElement = () => {\r\n\t\tconst names = this.state.pokemon.types.map(type => type.type.name);\r\n\t\tnames.sort();\r\n\t\treturn (\r\n\t\t\t<div className=\"type-container\">\r\n\t\t\t\t<div className=\"flex types\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnames.map(name => \r\n\t\t\t\t\t\t\t<button key={name} className={\"cancel \" + name}>{name}</button>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tWeightElement = () => {\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container weight\">\r\n\t\t\t\t<div className=\"label\">Weight</div>\r\n\t\t\t\t<div style={{\"textTransform\": \"lowercase\"}}>\r\n\t\t\t\t\t{round(this.state.pokemon.weight / 4.536, 2) + \" lbs\"}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tHeldItemsElement = () => {\r\n\t\tif (!this.state.heldItems.length) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst items = this.state.heldItems;\r\n\t\titems.sort((a,b) => alphabetical(a.name, b.name));\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container flex-column special\">\r\n\t\t\t\t<div className=\"bold\">Held Items (Wild)</div>\r\n\t\t\t\t<div className=\"flex held-items\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titems.map(item => {\r\n\t\t\t\t\t\t\tlet effect; \r\n\t\t\t\t\t\t\tif (item.effect_entries.length) {\r\n\t\t\t\t\t\t\t\teffect = item.effect_entries[0].effect;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet source; \r\n\t\t\t\t\t\t\tif (item.sprites && item.sprites.default) {\r\n\t\t\t\t\t\t\t\tsource = item.sprites.default;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Modal trigger={<button>{item.name}</button>} key={item.name}>\r\n\t\t\t\t\t\t\t    <Modal.Content>\r\n\t\t\t\t\t\t\t      <Modal.Description>\r\n\t\t\t\t\t\t\t      \t<div className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={source} alt={item.name}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"held-effect\">{effect}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t      </Modal.Description>\r\n\t\t\t\t\t\t\t    </Modal.Content>\r\n\t\t\t\t\t\t\t  </Modal>\r\n\t\t\t\t\t\t  );\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tTabsElement = () => {\r\n\t\tif (!this.state.species || !this.state.species.flavor_text_entries ||\r\n\t\t\t!this.state.species.flavor_text_entries.length || \r\n\t\t\t!this.state.locationEncounters.length || this.state.moves.length !== this.state.pokemon.moves.length) {\r\n\t\t\treturn null; \r\n\t\t}\r\n\t\tconst entries = new Map(this.state.species.flavor_text_entries\r\n\t\t\t.filter(entry => entry.language.name === \"en\")\r\n\t\t\t.map(entry => [\r\n\t\t\t\tentry.version.name.replace(/-/g, \" \"), \r\n\t\t\t\tentry.flavor_text.replace(\"\f\", \" \")\r\n\t\t\t])\r\n\t\t);\r\n\t\tconst gameToLocations = new Map(); \r\n\t\tthis.state.locationEncounters.forEach(locationEncounter => {\r\n\t\t\tconst location = locationEncounter.location_area.name;\r\n\t\t\tlocationEncounter.version_details.forEach(version => {\r\n\t\t\t\tconst name = version.version.name.replace(/-/g, \" \");\r\n\t\t\t\tif (gameToLocations.has(name)) {\r\n\t\t\t\t\tgameToLocations.get(name).push({version,location});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgameToLocations.set(name, [{version,location}]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tconst gameToMoves = new Map();\r\n\t\tthis.props.pokemon.moves.forEach(move => {\r\n\t\t\tconst { name } = move.move;\r\n\t\t\tmove.version_group_details.forEach(detail => {\r\n\t\t\t\tconst games = versionGroupNameToGame(detail.version_group.name);\r\n\t\t\t\tgames.forEach(game => {\r\n\t\t\t\t\tif (gameToMoves.has(game)) {\r\n\t\t\t\t\t\tgameToMoves.get(game).push({detail, name});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgameToMoves.set(game, [{detail, name}]);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t});\r\n\t\tconst panes = Object.keys(games).filter(game => entries.has(game) || gameToLocations.has(game)).map(game => {\r\n\t\t\treturn {\r\n\t\t\t\tmenuItem: game, \r\n\t\t\t\trender: () => {\r\n\t\t\t\t\tlet entry; \r\n\t\t\t\t\tif (entries.has(game)) {\r\n\t\t\t\t\t\tentry = (\r\n\t\t\t\t\t\t\t<div className=\"flex-column pokedex-entry\">\r\n\t\t\t\t\t\t\t\t<div className=\"title\">Pokédex Entry</div>\r\n\t\t\t\t\t\t\t\t<div className=\"entry\">{entries.get(game)}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet locations; \r\n\t\t\t\t\tif (gameToLocations.has(game)) {\r\n\t\t\t\t\t\tlocations = this.LocationElement(gameToLocations.get(game));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet moves; \r\n\t\t\t\t\tif (gameToMoves.has(game)) {\r\n\t\t\t\t\t\tmoves = this.TabMovesElement(gameToMoves.get(game));\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Tab.Pane>\r\n\t\t\t\t\t\t\t{entry}\r\n\t\t\t\t\t\t\t{locations}\r\n\t\t\t\t\t\t\t{moves}\r\n\t\t\t\t\t\t</Tab.Pane>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n  \t\treturn (\r\n  \t\t\t<div className=\"flex-column tabs-element\">\r\n  \t\t\t\t<div className=\"pokemon-games\">Generations</div>\r\n\t  \t\t\t<Tab \r\n\t  \t\t\t\tclassName=\"tabs\" \r\n\t  \t\t\t\tmenu={{ fluid: false, vertical: false, tabular: false }} \r\n\t  \t\t\t\tpanes={panes} />\r\n  \t\t\t</div>\r\n  \t\t);\r\n\t}\r\n\r\n\tTabMovesElement = (moves) => {\r\n\t\tconst methodToMove = new Map([[\"machine\", []],[\"level-up\", []]]); \r\n\t\tmoves.forEach(move => {\r\n\t\t\tconst { name } = move.detail.move_learn_method;\r\n\t\t\tif (methodToMove.has(name) && !methodToMove.get(name).map(a => a.name).includes(move.name)) {\r\n\t\t\t\tmethodToMove.get(name).push(move);\r\n\t\t\t} else {\r\n\t\t\t\tmethodToMove.set(name,[move]);\r\n\t\t\t}\r\n\t\t});\r\n\t\tmethodToMove.get(\"machine\").sort((a,b) => alphabetical(a.name, b.name));\r\n\t\tmethodToMove.get(\"level-up\").sort((a,b) => a.detail.level_learned_at - b.detail.level_learned_at);\r\n\t\tlet levelup; \r\n\t\tif (methodToMove.get(\"level-up\").length) {\r\n\t\t\tlevelup = (\t<div className=\"flex-column\">\r\n\t\t\t\t\t<div className=\"title\">Level Up Moves</div>\r\n\t\t\t\t\t<div className=\"flex-column tab-moves\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmethodToMove.get(\"level-up\").map(move => {\r\n\t\t\t\t\t\t\tconst detail = this.state.moves.find(item => item.name === move.name);\r\n\t\t\t\t\t\t\treturn this.MovesByLevelUpElement(detail, move.detail.level_learned_at);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\tlet machine;\r\n\t\tif (methodToMove.get(\"machine\").length) {\r\n\t\t\tmachine = (<div className=\"flex-column\">\r\n\t\t\t\t\t<div className=\"title\">Machine Moves</div>\r\n\t\t\t\t\t<div className=\"flex tab-moves\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmethodToMove.get(\"machine\").map(move => {\r\n\t\t\t\t\t\t\tconst detail = this.state.moves.find(item => item.name === move.name);\r\n\t\t\t\t\t\t\treturn this.MovesElement(detail);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>);\r\n\t\t}\r\n\t\treturn ( \r\n\t\t\t<div className=\"flex tab-moves-element\">\r\n\t\t\t\t{levelup}\r\n\t\t\t\t{machine}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tMovesByLevelUpElement = (detail, level) => {\r\n\t\treturn (\r\n\t\t\t<div className=\"flex detail\" key={detail.name}>\r\n\t\t\t\t<div className=\"detail-level\">{level}</div>\r\n\t\t\t\t{this.MovesElement(detail)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tLocationElement = (locations) => {\r\n  \t\treturn (\r\n  \t\t\t<div className=\"flex-column special-locations\">\r\n\t  \t\t\t<div className=\"habitat\">Habitat</div>\r\n\t  \t\t\t<div className=\"flex region-container\">\r\n\t  \t\t\t\t{\r\n\t  \t\t\t\t\tlocations.map(location => {\r\n\t  \t\t\t\t\t\tconst region = location.location;\r\n\t  \t\t\t\t\t\tconst version = location.version;\r\n\t  \t\t\t\t\t\treturn (\r\n\t  \t\t\t\t\t\t\t<div className=\"flex-column location\" key={region}>\r\n\t  \t\t\t\t\t\t\t\t<div className=\"region-name label\">{region.replace(/-/g, \" \")}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex encounters\">\r\n\t  \t\t\t\t\t\t\t\t\t{\r\n\t  \t\t\t\t\t\t\t\t\t\tversion.encounter_details.map((encounter, i) => {\r\n\t  \t\t\t\t\t\t\t\t\t\t\tlet conditionElement; \r\n\t  \t\t\t\t\t\t\t\t\t\t\tif (encounter.condition_values.length) {\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\tconditionElement = (\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label\">Condition</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{encounter.condition_values.map(condition => condition.name).join(\", \").replace(/-/g, \" \")}</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t</div> \r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t  \t\t\t\t\t\t\t\t\t\t\t}\r\n\t  \t\t\t\t\t\t\t\t\t\t\tlet level = (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label\">Level</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{encounter.max_level}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t); \r\n\t  \t\t\t\t\t\t\t\t\t\t\tif (encounter.max_level !== encounter.min_level) {\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\tlevel = (\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label\">Max LVL</div>\r\n\t\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{encounter.max_level}</div>\r\n\t\t  \t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t  \t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label\">Min LVL</div>\r\n\t\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{encounter.min_level}</div>\r\n\t\t  \t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t  \t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t  \t\t\t\t\t\t\t\t\t\t\t}\r\n\t  \t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t<div className=\"encounter\" key={i}>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label\">Method</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{encounter.method.name.replace(/-/g, \" \")}</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"label\">Chance</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>{encounter.chance}%</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t{level}\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t\t{conditionElement}\r\n\t  \t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t  \t\t\t\t\t\t\t\t\t\t\t);\r\n\t  \t\t\t\t\t\t\t\t\t\t})\r\n\t  \t\t\t\t\t\t\t\t\t}\r\n\t  \t\t\t\t\t\t\t\t</div>\r\n\t  \t\t\t\t\t\t\t</div>\r\n\t  \t\t\t\t\t\t);\r\n\t  \t\t\t\t\t})\r\n\t  \t\t\t\t}\r\n\t  \t\t\t</div>\r\n\t  \t\t</div>\r\n  \t\t);\r\n\t}\r\n\r\n\r\n\t\t// use beatifly as test case\r\n\tEvolutionElement = () => {\r\n\t\tif (!this.state.evolutionMap.length) {\r\n\t\t\treturn null; \r\n\t\t}\r\n\t\tconst pokemons = this.state.evolutionMap\r\n\t\t\t.sort((a,b) => a[0] - b[0])\r\n\t\t\t.map(([order, pokemon]) => pokemon);\r\n\t\treturn (\r\n\t\t\t<div className=\"flex-column evolution-chain\">\r\n\t\t\t\t<div className=\"label\">Evolution Chain</div>\r\n\t\t\t\t<div className=\"flex pokemon-evolutions\">\r\n\t\t\t\t{\r\n\t\t\t\t\tpokemons.map(pokemon => {\r\n\t\t\t\t\t\tlet id = pokemon.id.toString(10);\r\n\t\t\t\t\t\tfor (let i = 0; i < 3 - id.length; i++) {\r\n\t\t\t\t\t\t\tid = \"0\" + id; \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tid = \"#\" + id;\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\t\tclassName=\"flex-column pokemon\" \r\n\t\t\t\t\t\t\t\tkey={pokemon.id} \r\n\t\t\t\t\t\t\t\tonClick={() => this.props.onSelection(pokemon.name)}>\r\n\t\t\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\t\t\tsrc={pokemon.sprites.front_default} \r\n\t\t\t\t\t\t\t\t\talt={pokemon.name} />\r\n\t\t\t\t\t\t\t\t<div className=\"id\">{id}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"name\">{pokemon.name}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flex button-container\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpokemon.types.map(type => {\r\n\t\t\t\t\t\t\t\t\t\tconst name = type.type.name;\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<button className={\"cancel \" + name} key={name}>{name}</button>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tEggGroupElement = () => {\r\n\t\tif (!this.state.species || !this.state.species.egg_groups || \r\n\t\t\t  !this.state.species.egg_groups.length) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container\">\r\n\t\t\t\t<div className=\"label\">Egg Groups</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{this.state.species.egg_groups.map(a => a.name.replace(/-/g, \" \")).join(\", \")}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tGenderRateElement =  () => {\r\n\t\tif (!this.state.species) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tlet gr = this.state.species.gender_rate;\r\n\t\tif (!gr) {\r\n\t\t\tgr = 0;\r\n\t\t}\r\n\t\tif (gr < 0) {\r\n\t\t\tgr = (\r\n\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t<div className=\"label\">Genderless</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconst female = round((gr/8)*100,2);\r\n\t\t\tconst male = 100 - female; \r\n\t\t\tgr = (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t<div className=\"label\">Male</div>\r\n\t\t\t\t\t\t<div>{male}%</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t<div className=\"label\">Female</div>\r\n\t\t\t\t\t\t<div>{female}%</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-container gender-rate\">\r\n\t\t\t\t<div className=\"flex-column\">\r\n\t\t\t\t\t{gr}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\t\t\r\n\t}\r\n\r\n\tDmgElement = () => {\r\n\t\tif (!this.state.types.length || this.state.types.length !== this.props.pokemon.types.length) {\r\n\t\t\treturn null; \r\n\t\t}\r\n\t\tconst base = [\r\n\t\t\t['normal', 1],\r\n\t\t\t['fire', 1],\r\n\t\t\t['fighting', 1],\r\n\t\t\t['water', 1],\r\n\t\t\t['flying', 1],\r\n\t\t\t['grass', 1],\r\n\t\t\t['poison', 1],\r\n\t\t\t['electric', 1],\r\n\t\t\t['ground', 1],\r\n\t\t\t['psychic', 1],\r\n\t\t\t['rock', 1],\r\n\t\t\t['ice', 1],\r\n\t\t\t['bug', 1],\r\n\t\t\t['dragon', 1],\r\n\t\t\t['ghost', 1],\r\n\t\t\t['dark', 1],\r\n\t\t\t['steel', 1],\r\n\t\t\t['fairy', 1],\r\n\t\t];\r\n\t\tconst dmgTaken = new Map(base); \r\n\t\tthis.state.types.forEach(type => {\r\n\t\t\tObject.keys(type.damage_relations).forEach(key => {\r\n\t\t\t\tconst dmgType = dmgMap.get(key);\r\n\t\t\t\tif (dmgType) {\r\n\t\t\t\t\ttype.damage_relations[key].forEach(type => {\r\n\t\t\t\t\t\tconst { name } = type;\r\n\t\t\t\t\t\tif (dmgTaken.has(name)) {\r\n\t\t\t\t\t\t\tif (dmgType.isTaken) {\r\n\t\t\t\t\t\t\t\tdmgTaken.set(name,dmgTaken.get(name)*dmgType.num);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div className=\"flex-column dmg-component\">\r\n\t\t\t\t<div className=\"dmg-title\">Damage Taken</div>\r\n\t\t\t\t<div className=\"dmg-element flex\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tArray.from(dmgTaken).map(([type,value]) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className={\"dmg-type flex-column \" + type} key={type}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"vertical-text\">{type}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"multiplier\">x{dmgTaken.get(type)}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t} \t\r\n\r\n\trender() {\r\n\t\tif (!this.state.pokemon) {\r\n\t\t\treturn null;\r\n\t\t} else if (this.state.pokemon && this.state.initializing) {\r\n\t\t\treturn LoaderElement(); \r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"pokemon-layout flex-column\">\r\n\t\t\t\t<div className=\"flex top-container\">\r\n\t\t\t\t\t<div className=\"basic-info\">\r\n\t\t\t\t\t\t{this.NameElement()}\r\n\t\t\t\t\t\t{this.TypesElement()}\r\n\t\t\t\t\t\t{this.HeightElement()}\r\n\t\t\t\t\t\t{this.WeightElement()}\r\n\t\t\t\t\t\t{this.GenderRateElement()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.SpritesElement()}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex metadata\">\r\n\t\t\t\t\t{this.StatsElement()}\r\n\t\t\t\t\t<div className=\"ability-move flex-column\">\r\n\t\t\t\t\t  <div className=\"flex dialogs\">\r\n\t\t\t\t\t\t\t{this.AbilitiesElement()}\r\n\t\t\t\t\t\t\t{this.HeldItemsElement()}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"metadata-2\">\r\n\t\t\t\t\t\t{this.BaseExpElement()}\r\n\t\t\t\t\t\t{this.BaseHappinessElement()}\r\n\t\t\t\t\t\t{this.CaptureRateElement()}\r\n\t\t\t\t\t\t{this.EggGroupElement()}\r\n\t\t\t\t\t\t{this.GenerationElement()}\r\n\t\t\t\t\t\t{this.GrowthElement()}\r\n\t\t\t\t\t\t{this.HabitatElement()}\r\n\t\t\t\t\t\t{this.HatchElement()}\r\n\t\t\t\t\t </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.EvolutionElement()}\r\n\t\t\t\t{this.DmgElement()}\r\n\t\t\t\t{this.TabsElement()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps.pokemon.id !== this.props.pokemon.id) {\r\n\t\t\tthis.updateAll();\r\n\t\t}\r\n\t}\r\n}","import React from 'react';\r\nimport { Icon } from 'semantic-ui-react';\r\nimport { OutsideAlerter, leadingZero } from '../../util.module.js';\r\nimport './dropdown.scss';\r\nimport '../../util.scss';\r\n\r\n/**\r\n * Given a list of options and a callback function to call on \r\n * selection event, creates a Dropdown component. \r\n * Events: \r\n * \t\t- Enter: Selects the current element and calls callback \r\n *    - ArrowUp/ArrowDown: Changes the currently selected element.\r\n *\t\t- Backspaces: Updates placeholder, scrolltop, and filtered list.\r\n *\t\t- Click outside: Closes option list. \r\n */\r\nexport default class Dropdown extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props); \r\n\t\tthis.state = {\r\n\t\t\tinput: props.input, \r\n\t\t\tshowOptions: false, \r\n\t\t\tcurrentOptionIndex: 0,\r\n\t\t\tplaceHolder: props.placeHolder,\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (nextProps.input !== prevState.input) {\r\n\t\t\treturn {\r\n\t\t\t\tinput: nextProps.input,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn prevState;\r\n\t}\r\n\r\n\t/**\r\n\t * Case-insensitive prefix matches. \r\n\t */\r\n\tfilter = (prefix, arr) => {\r\n\t\tarr = arr.map((item,i) => {return {name: item, id: leadingZero(i+1, 3)}});\r\n\t\tif (!isNaN(prefix)) {\r\n\t\t\treturn arr.filter(item => item.id.includes(prefix.toString(10)));\r\n\t\t}\r\n\t\treturn arr.filter(\r\n\t\t\titem => item.name.toUpperCase().slice(0,prefix.length) === prefix.toUpperCase()\r\n\t\t); \r\n\t}\r\n\r\n  /**\r\n   * Fires when user types into the input. Updates input and related \r\n   * state attributes. \r\n   */\r\n\thandleChange = e => {\r\n\t\tthis.setState({\r\n\t\t\tshowOptions: true,\r\n\t\t\tcurrentOptionIndex: 0,\r\n\t\t});\r\n\t\tthis.props.onInputValue(e.target.value);\r\n\t};\r\n\r\n\t/** \r\n\t * Fires on clicking on an option. Calls the callback function and \r\n\t * updates the state.\r\n\t */\r\n\thandleClick = name => {\r\n\t\tthis.props.onSelection(name); \r\n\t\tthis.setState({\r\n\t\t\tshowOptions: false,\r\n\t\t\tcurrentOptionIndex: 0,\r\n\t\t});\r\n\t\tthis.props.onInputValue(name);\r\n\t}\r\n\r\n\t/**\r\n\t * Fires on Enter key. Selects the current index and calls callback\r\n\t * function.\r\n\t */\r\n\thandleKeyPress = e => {\r\n\t\te.persist(); \r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tconst newInput = this.filter(\r\n\t\t\t\tthis.state.input.trim(),this.props.options\r\n\t\t\t)[this.state.currentOptionIndex].name; \r\n\t\t\tthis.setState({\r\n\t\t\t\tshowOptions: false,\r\n\t\t\t\tcurrentOptionIndex: 0,\r\n\t\t\t});\r\n\t\t\tthis.props.onInputValue(newInput);\r\n\t\t\tthis.props.onSelection(newInput); \r\n\t\t} \r\n\t}\r\n\r\n\t/** \r\n\t * Updates current index based on arrow key. \r\n\t */\r\n\thandleKeyDown = e => {\r\n\t\tconst filteredOptions = this.filter(\r\n\t\t\tthis.state.input, this.props.options\r\n\t\t);\r\n\t\tconst length = filteredOptions.length;\r\n\t\tlet i = this.state.currentOptionIndex; \r\n\t\tif (e.key === \"ArrowDown\") {\r\n\t\t\tif (i === length - 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t} else if (e.key === \"ArrowUp\") {\r\n\t\t\tif (i === 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ti--;\r\n\t\t}\r\n\t\tif (i < filteredOptions.length) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentOptionIndex:i, \r\n\t\t\t\tshowOptions: true,\r\n\t\t\t\tplaceHolder: filteredOptions[i].name,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/** \r\n\t * Forcefully scroll the container if option is out of view.\r\n \t */\t\r\n\thandleKeyUp = e => {\t\r\n\t\tconst optionsElement = document.getElementById(\"options\");\r\n\t\tif ([\"ArrowDown\", \"ArrowUp\"].includes(e.key) && optionsElement) {\r\n\t\t\tconst curr = this.state.currentOptionIndex * 39; \r\n\t\t\tif (curr < optionsElement.scrollTop || \r\n\t\t\t\t\tcurr > (optionsElement.scrollTop + 39*3)) {\r\n\t\t\t\toptionsElement.scrollTop = curr; \r\n\t\t\t}\r\n\t\t}\r\n\t\tconst filteredOptions = this.filter(\r\n\t\t\tthis.state.input, this.props.options\r\n\t\t);\r\n\t\tif (e.key === \"Backspace\" && optionsElement) {\r\n\t\t\toptionsElement.scrollTop = 0;\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentOptionIndex: 0,\r\n\t\t\t\tplaceHolder: filteredOptions[0].name,\r\n\t\t\t}); \r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Returns JSX of a list of options if filtered option's length is \r\n\t * greater than 0, returns null otherwise. \r\n\t */\t\r\n\tOptionsElement = () => {\r\n\t\tconst filteredOptions = this.filter(this.state.input,this.props.options); \r\n\t\tif (filteredOptions.length === 0) {\r\n\t\t\treturn null; \r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"options-container absolute\">\r\n\t\t\t\t<div className=\"options\" id=\"options\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfilteredOptions.map((option,i) => \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet id = '';\r\n\t\t\t\t\t\t\t\tif (i === this.state.currentOptionIndex) {\r\n\t\t\t\t\t\t\t\t\tid = \"selected\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\tid={id} \r\n\t\t\t\t\t\t\t\t\t\tonClick={()=> this.handleClick(option.name)}\r\n\t\t\t\t\t\t\t\t\t\tkey={option.name}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-id\">{option.id}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-name\">{option.name}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet options; \r\n\t\tif (this.state.showOptions) {\r\n\t\t\toptions = this.OptionsElement();\r\n\t\t}\r\n\t\tlet dropdownStyle = {\r\n\t\t\t\"borderRadius\": (this.state.showOptions && options ? \"8px 8px 0 0\" : \"8px\"),\r\n\t\t\t\"borderColor\": (this.state.showOptions ? \"#9ec0ff\" : \"#80808061\"),\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<OutsideAlerter callback={() => this.setState({showOptions: false})}>\r\n\t\t\t\t<div className=\"dropdown relative\" style={dropdownStyle}>\r\n\t\t\t\t\t<Icon className=\"search\" name=\"search\"/>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t  placeholder={this.state.placeHolder} \r\n\t\t\t\t\t  spellCheck=\"false\"\r\n\t\t\t\t\t  value={this.state.input || ''}\r\n\t\t\t  \t\tonClick={()=>this.setState({showOptions: true})}\r\n\t\t\t\t  \tonChange={this.handleChange}\r\n\t\t\t\t\t  onKeyPress={this.handleKeyPress}\r\n\t\t\t\t\t  onKeyDown={this.handleKeyDown}\r\n\t\t\t\t\t  onKeyUp={this.handleKeyUp}/>\r\n\t\t\t\t\t{options}\r\n\t\t\t\t</div>\r\n\t\t\t</OutsideAlerter>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PokemonLayout from './components/pokemon-layout/pokemon-layout.js';\r\nimport Dropdown from './components/dropdown/dropdown';\r\nimport './index.css';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport { P, get } from './util.module.js';\r\n\r\nclass Game extends React.Component {\r\n\r\n  // Mounting Lifecycle ----------------------------------------------\r\n\r\n  constructor(props) {\r\n    super(props); \r\n    this.state = {\r\n      pokemons: [], \r\n      types: [], \r\n      currentPokemon: null,\r\n      inputValue: '',\r\n    };\r\n    P.getPokemonsList().then(\r\n      response => this.setState({\r\n        pokemons: response.results,\r\n      })\r\n    );\r\n    P.getTypesList().then(\r\n      response => this.setState({\r\n        types: response.results,\r\n      })\r\n    );\r\n\r\n    // TODO: Add types to be searchable and give its own layout\r\n  }\r\n\r\n  // Event Handlers --------------------------------------------------\r\n\r\n  handleSelection = name => {\r\n    P.getPokemonByName(name, (response,error) => {\r\n      if (!error) {\r\n        this.setState({\r\n          currentPokemon: response,\r\n          inputValue: response.name,\r\n        }); \r\n      } else {\r\n        console.error(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleInputValue = (inputValue) => {\r\n    this.setState({inputValue});\r\n  } \r\n\r\n  // Methods ---------------------------------------------------------\r\n\r\n  render() {\r\n    let content;\r\n    if (this.state.currentPokemon) {\r\n      content = <PokemonLayout \r\n                  pokemon={this.state.currentPokemon} \r\n                  onSelection={this.handleSelection}/>;\r\n    }\r\n    return (\r\n      <div className=\"index flex-column\">\r\n        <Dropdown\r\n          placeHolder='Search Pokemon'\r\n          input={this.state.inputValue}\r\n          onSelection={this.handleSelection}\r\n          onInputValue={this.handleInputValue}\r\n          options={this.state.pokemons.map(pokemon => pokemon.name)}/>\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(\r\n  <Game />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}